import{r as v,o as d,c as u,a as e,A as f,B as m,D as c,e as l,C as p,b as n,w as r,F as w,d as g,z as h}from"./index-7518c454.js";const _={class:"loginView"},k={key:0},b={class:"formRow"},$=e("label",null,"Username:",-1),y={class:"formRow"},C=e("label",null,"Password:",-1),V={key:1},D={class:"newfooter"},B=e("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"},null,-1),N={class:"newcontainer"},S={class:"newrow"},T={class:"newfooter-col"},U=e("h4",null,"Links",-1),j=g('<div class="newfooter-col"><h4>Adresse</h4><ul><li><a href="#">Alte Poststraße 14e</a></li><li><a href="#">Maria Ellend </a></li><li><a href="#">2402</a></li><li><a href="#">Österreich</a></li></ul></div><div class="newfooter-col"><h4>Kontakte</h4><ul><li><a href="#">+43 676 3285511</a></li><li><a href="#">+43 676 8885341</a></li><li><a href="#">marcela.nikolic@gmx.at</a></li></ul></div><div class="newfooter-col"><h4>follow us</h4><div class="social-links"><a href="#"><i class="fab fa-facebook-f"></i></a><a href="#"><i class="fab fa-twitter"></i></a><a href="#"><i class="fab fa-instagram"></i></a><a href="#"><i class="fab fa-linkedin-in"></i></a></div></div>',3),A={setup(){},data(){return{message:"",model:{username:"admin",password:"1111"}}},mounted(){this.message=""},methods:{async sendLoginData(){try{const o=(await h.post("user/login",this.model)).data;h.defaults.headers.common.Authorization=`Bearer ${o.token}`,this.$store.commit("authenticate",o),this.message=`User ${o.username} logged in.`}catch(o){o.response.status==401&&alert("Login failed. Invalid credentials.")}}},computed:{authenticated(){return!!this.$store.state.userdata.username},userdata(){return this.$store.state.userdata}}},L=Object.assign(A,{__name:"SignInView",setup(o){return(s,t)=>{const i=v("router-link");return d(),u(w,null,[e("div",_,[s.authenticated?c("",!0):(d(),u("div",k,[e("div",b,[$,f(e("input",{class:"form-control","onUpdate:modelValue":t[0]||(t[0]=a=>s.model.username=a),type:"text"},null,512),[[m,s.model.username]])]),e("div",y,[C,f(e("input",{class:"form-control","onUpdate:modelValue":t[1]||(t[1]=a=>s.model.password=a),type:"password"},null,512),[[m,s.model.password]])]),e("div",null,[e("button",{class:"btn btn-outline-primary",onClick:t[2]||(t[2]=a=>s.sendLoginData())},"Submit")])])),s.authenticated?(d(),u("div",V,[l("User "+p(s.userdata.username)+" ist angemeldet. Du kannst jetzt die ",1),n(i,{to:"/terminverwaltung"},{default:r(()=>[l("Termine verwalten")]),_:1}),l(".")])):c("",!0)]),e("div",D,[B,e("div",N,[e("div",S,[e("div",T,[U,e("ul",null,[e("li",null,[n(i,{onClick:t[3]||(t[3]=a=>s.fullHeight=!0),to:"/"},{default:r(()=>[l("Startseite")]),_:1})]),e("li",null,[n(i,{onClick:t[4]||(t[4]=a=>s.fullHeight=!1),to:"/praxis"},{default:r(()=>[l("Praxis")]),_:1})]),e("li",null,[n(i,{onClick:t[5]||(t[5]=a=>s.fullHeight=!1),to:"/therapie"},{default:r(()=>[l("Therapien")]),_:1})]),e("li",null,[n(i,{onClick:t[6]||(t[6]=a=>s.fullHeight=!1),to:"/termin"},{default:r(()=>[l("Termin buchen")]),_:1})])])]),j])])])],64)}}});export{L as default};
